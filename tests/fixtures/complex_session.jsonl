{"type":"summary","summary":"Complex session with branches and compaction","leafUuid":"uuid-4012"}
{"type":"user","uuid":"uuid-4001","parentUuid":null,"isSidechain":false,"timestamp":"2025-01-15T14:00:00.000Z","sessionId":"sess-complex","cwd":"/home/test","version":"2.1.7","message":{"role":"user","content":"Start"},"userType":"external","permissionMode":"default"}
{"type":"assistant","uuid":"uuid-4002a","parentUuid":"uuid-4001","isSidechain":false,"timestamp":"2025-01-15T14:00:01.000Z","sessionId":"sess-complex","message":{"role":"assistant","model":"claude-opus-4-5-20251101","id":"msg_01test4002","type":"message","content":[{"type":"thinking","thinking":"Let me think about this...","signature":"EqMDCkYItest"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":10,"output_tokens":20}}}
{"type":"assistant","uuid":"uuid-4002b","parentUuid":"uuid-4002a","isSidechain":false,"timestamp":"2025-01-15T14:00:01.100Z","sessionId":"sess-complex","message":{"role":"assistant","model":"claude-opus-4-5-20251101","id":"msg_01test4002","type":"message","content":[{"type":"text","text":"Starting"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":10,"output_tokens":5}}}
{"type":"system","subtype":"turn_duration","uuid":"uuid-4003","parentUuid":"uuid-4002b","isSidechain":false,"timestamp":"2025-01-15T14:00:02.000Z","sessionId":"sess-complex","durationMs":1500,"isMeta":false}
{"type":"user","uuid":"uuid-4004","parentUuid":"uuid-4003","isSidechain":false,"timestamp":"2025-01-15T14:00:10.000Z","sessionId":"sess-complex","cwd":"/home/test","version":"2.1.7","message":{"role":"user","content":"First approach"},"userType":"external"}
{"type":"assistant","uuid":"uuid-4005a","parentUuid":"uuid-4004","isSidechain":false,"timestamp":"2025-01-15T14:00:11.000Z","sessionId":"sess-complex","message":{"role":"assistant","model":"claude-opus-4-5-20251101","id":"msg_01test4005","type":"message","content":[{"type":"text","text":"Trying first approach."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":20,"output_tokens":8}}}
{"type":"assistant","uuid":"uuid-4005b","parentUuid":"uuid-4005a","isSidechain":false,"timestamp":"2025-01-15T14:00:11.100Z","sessionId":"sess-complex","message":{"role":"assistant","model":"claude-opus-4-5-20251101","id":"msg_01test4005","type":"message","content":[{"type":"tool_use","id":"toolu_01test101","name":"Bash","input":{"command":"echo test","description":"Run test"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":20,"output_tokens":15}}}
{"type":"user","uuid":"uuid-4006","parentUuid":"uuid-4005b","isSidechain":false,"timestamp":"2025-01-15T14:00:12.000Z","sessionId":"sess-complex","version":"2.1.7","message":{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_01test101","content":"test","is_error":false}]},"toolUseResult":{"stdout":"test","stderr":"","interrupted":false},"sourceToolAssistantUUID":"uuid-4005b"}
{"type":"assistant","uuid":"uuid-4007","parentUuid":"uuid-4006","isSidechain":false,"timestamp":"2025-01-15T14:00:13.000Z","sessionId":"sess-complex","message":{"role":"assistant","model":"claude-opus-4-5-20251101","id":"msg_01test4007","type":"message","content":[{"type":"text","text":"Done with approach 1"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":30,"output_tokens":8}}}
{"type":"user","uuid":"uuid-4008","parentUuid":"uuid-4003","isSidechain":false,"timestamp":"2025-01-15T14:00:20.000Z","sessionId":"sess-complex","cwd":"/home/test","version":"2.1.7","message":{"role":"user","content":"Second approach"},"userType":"external"}
{"type":"assistant","uuid":"uuid-4009","parentUuid":"uuid-4008","isSidechain":false,"timestamp":"2025-01-15T14:00:21.000Z","sessionId":"sess-complex","message":{"role":"assistant","model":"claude-opus-4-5-20251101","id":"msg_01test4009","type":"message","content":[{"type":"text","text":"Working on it"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":20,"output_tokens":5}}}
{"type":"system","subtype":"microcompact_boundary","uuid":"uuid-4010","parentUuid":"uuid-4009","isSidechain":false,"timestamp":"2025-01-15T14:01:00.000Z","sessionId":"sess-complex","content":"Context microcompacted","isMeta":false,"level":"info","microcompactMetadata":{"trigger":"auto","preTokens":30000,"tokensSaved":2000,"compactedToolIds":[]}}
{"type":"user","uuid":"uuid-4011","parentUuid":"uuid-4010","isSidechain":false,"timestamp":"2025-01-15T14:01:01.000Z","sessionId":"sess-complex","cwd":"/home/test","version":"2.1.7","message":{"role":"user","content":"Continue"},"userType":"external"}
{"type":"assistant","uuid":"uuid-4012","parentUuid":"uuid-4011","isSidechain":false,"timestamp":"2025-01-15T14:01:02.000Z","sessionId":"sess-complex","message":{"role":"assistant","model":"claude-opus-4-5-20251101","id":"msg_01test4012","type":"message","content":[{"type":"text","text":"All done"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":25,"output_tokens":5}}}
